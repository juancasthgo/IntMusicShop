{% load static %}
{% url 'productos:inicio' as inicio %}
{% url 'productos:home' as home %}

<!DOCTYPE html>
<html>
<head>
  <title>Music Pro</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="icon" type="image/x-icon"  href='{% static "css/icono.png" %}' />
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}

body, html {
  height: 100%;
  line-height: 1.8;
}

/* Full height image header */
.bgimg-1 {
  background-position: center;
  background-size: cover;
  background-image: url("/w3images/mac.jpg");
  min-height: 100%;
}

.w3-bar .w3-button {
  padding: 16px;
}


.video-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.video-container video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
</head>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-white w3-card" id="myNavbar">
    <a href="/" class="w3-bar-item w3-button w3-wide">Music Pro</a>
    <!-- Right-sided navbar links -->
    <div class="w3-right w3-hide-small">
      <a href="#team" class="w3-bar-item w3-button"></i> PRODUCTOS</a>
      <a href="#contact" class="w3-bar-item w3-button"></i> CONTACTO</a>
      <a href="#about" class="w3-bar-item w3-button">ACERCA</a>

    </div>
    <!-- Hide right-floated links on small screens and replace them with a menu icon -->

    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="w3_open()">
      <i class="fa fa-bars"></i>
    </a>
  </div>
</div>

<!-- Sidebar on small screens when clicking the menu icon -->
<nav class="w3-sidebar w3-bar-block w3-black w3-card w3-animate-left w3-hide-medium w3-hide-large" style="display:none" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-large w3-padding-16">SALIR</a>
  <a href="#team" onclick="w3_close()" class="w3-bar-item w3-button">PRODUCTOS</a>
  <a href="#contact" onclick="w3_close()" class="w3-bar-item w3-button">CONTACTO</a>
  <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button">ACERCA</a>

</nav>

<!-- Header with full-height image -->
<header class="bgimg-1 w3-display-container w3-grayscale-min" id="home">
  <div class="video-container">
    <video autoplay loop muted>
      <source src="/media/img/video.webm" type="video/mp4">
    </video>
  </div>
  <div class="w3-display-middle w3-display-center w3-text-white" style="padding:48px">
    <img src="/media/img/ms.png" alt="Start something that matters" class="w3-jumbo w3-hide-small">
    <img src="/media/img/ms.png" alt="Start something that matters" class="w3-xxlarge w3-hide-large w3-hide-medium">
    <span class="w3-xxlarge w3-hide-large w3-hide-medium"></span><br>
    <div class="w3-display-container w3-center" style="padding-top: 24px;">
      <a  id="miBoton" class="w3-button pulsating-button w3-white w3-padding-large w3-large w3-opacity w3-hover-opacity-off">Ingresar</a>
    </div>
    
  </div> 

  <div class="w3-display-bottomleft w3-text-grey w3-large" style="padding:24px 48px">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
  </div>
</header>

  



<!-- Team Section -->
{% load static %}
{% load humanize %}

{% block content %}

<style>
  @keyframes pulsate {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }
  
  .pulsating-image {
    animation: pulsate 1.5s infinite;
  }
  </style>
<!-- Project Section -->
<div class="w3-container w3-padding-32" id="team">
  <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16"  style="text-align: center;">PRODUCTOS RECIENTES</h3>
</div>


<div class="w3-row-padding">
  {% for productos in primeros_productos %}
  <div class="w3-col l3 m6 w3-margin-bottom">
    <div class="w3-display-container">
      <div   style="text-align: center;" class="w3-display-center w3-black w3-padding">{{ productos.categoria | capfirst }}</div>
      


      <div style="height:100%">
        <img src="{{ productos.imagen.url }}" alt="House" style="width:100%; height:100%"  class="pulsating-image">
    </div>
    
    <p style="text-align: center; font-weight: bold;">$ {{ productos.precio | intword | intcomma }}</p>
  </div>
  </div>
  {% endfor %}
</div>


{% endblock %}

















<!-- Modal for full size images on click-->
<div id="modal01" class="w3-modal w3-black" onclick="this.style.display='none'">
  <span class="w3-button w3-xxlarge w3-black w3-padding-large w3-display-topright" title="Close Modal Image">×</span>
  <div class="w3-modal-content w3-animate-zoom w3-center w3-transparent w3-padding-64">
    <img id="img01" class="w3-image">
    <p id="caption" class="w3-opacity w3-large"></p>
  </div>
</div>


<!-- Contact Section -->

<style>
  @keyframes pulsate {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }
  
  .pulsating-button {
    animation: pulsate 1.5s infinite;
  }
  </style>
  
<div class="w3-container" style="padding:128px 16px">
<div class="w3-padding-64 w3-content w3-text-grey" id="contact">
  <h3 class="w3-center">CONTACTO</h3>
  <p class="w3-center w3-large"></p>

  <form enctype="multipart/form-data" action="{% url 'productos:contacto' %}" method="post" class="formulario">
      {% csrf_token %}
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Nombre" required name="nombre"></p>
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Correo" required name="correo"></p>
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Mensaje" required name="mensaje"></p>
      <p style="text-align: center;">
        <button class="w3-button w3-light-grey w3-padding-large pulsating-button" type="submit">
            <i class="fa fa-paper-plane"></i> Enviar Mensaje
        </button>
    </p>
    
  </form>

</div>
</div>

<!-- About Section -->
<div class="w3-container w3-light-grey" style="padding:128px 16px" id="about">
  <h3 class="w3-center">ACERCA DE MUSIC PRO</h3>
  
  <div class="w3-row-padding w3-center" style="margin-top:64px">
    <div class="w3-quarter">
      <i class="fa fa-sign-in w3-margin-bottom w3-jumbo"></i>
      <p class="w3-large">Registro</p>
    </div>
    <div class="w3-quarter">
      <i class="fa fa-shopping-cart w3-margin-bottom w3-jumbo"></i>
      <p class="w3-large">Compras</p>
    </div>
    <div class="w3-quarter">
      <i class="fa fa-tasks w3-margin-bottom w3-jumbo"></i>
      <p class="w3-large">Calidad</p>
    </div>
    <div class="w3-quarter">
      <i class="fa fa-plane w3-margin-bottom w3-jumbo"></i>
      <p class="w3-large">Envios</p>
    </div>
  </div>
</div>
  

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-64">
  <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>Subir</a>
  <div class="w3-xlarge w3-section">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
  </div>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">Musicpro.com</a></p>
</footer>
 
<script>
// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}


// Toggle between showing and hiding the sidebar when clicking the menu icon
var mySidebar = document.getElementById("mySidebar");

function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
  } else {
    mySidebar.style.display = 'block';
  }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
}
</script>

<script>
  // Obtén el botón por su ID
  var boton = document.getElementById("miBoton");

  // Agrega el evento de clic al botón
  boton.addEventListener("click", function() {
      // Muestra la alerta de Sweet Alert
      Swal.fire({
          title: "Bienvenido a Music Pro",
          text: "{{m}}",
          icon: "success",
          timer: 1000,
      }).then(function() {
          // Redirige a la página deseada
          window.location.href = "/accounts/login/";
      });
  });
</script>
<!-- Incluye Sweet Alert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


{% if messages %}
    {% for m in messages %}
    <script>
        Swal.fire({
            "title":"Cambios Guardados",
            "text": "{{m}}",
            "icon":"success"
        })
    </script>
    {% endfor %}
{% endif %}


</body>
</html>